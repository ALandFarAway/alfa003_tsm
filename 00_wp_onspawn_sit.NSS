////////////////////////////////////////////////////////////////////////////////

//
//  Description
//  Put the name of this script into a spawnpoint's ACR_SPAWN_IN_SCRIPT to run
//  the code beneath on each creature spawned by the spawnpoint

//  Revision History - Creation 05/05/22 : Wynna
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Includes ////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Constants ///////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Structures //////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Global Variables ////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Function Prototypes /////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Function Definitions ////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
#include "acr_creature_i"
#include "acr_spawn_i"


 
void main()
{

	float f;

	f = ACR_RandomFloat(0.0,1.0);

	
	DelayCommand(f, ACR_CreatureOnSpawnIn());


	SetLocalFloat(OBJECT_SELF, "f", f);

	// dumb (non-combat) ai
	SetLocalInt(OBJECT_SELF,"ACR_NPC",2);
	
    object oChair = GetNearestObjectByTag("NPC_Sit_Chair", OBJECT_SELF, 1);
	SendMessageToAllDMs("WP Onspawn Sit called for " + GetTag(OBJECT_SELF));
	DelayCommand(10.0, ActionSpeakString("I think I will sit on" + GetTag(oChair), TALKVOLUME_TALK));
	DelayCommand(11.0, ActionSit(oChair));
	DelayCommand(20.0, ClearAllActions(TRUE));
	DelayCommand(21.0, ActionPlayAnimation(ANIMATION_LOOPING_SIT_CHAIR, 1.0, 1800.0));
    DelayCommand(22.0, SetBumpState(OBJECT_SELF,BUMPSTATE_UNBUMPABLE)); //Keeps NPCs from being bumped to a standing postition 
	
}